
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Build Parametric Robot with Gripper Model Using Simscape Multibody</title><meta name="generator" content="MATLAB 9.14"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2024-03-22"><meta name="DC.source" content="RobotModelSetupHelp.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Build Parametric Robot with Gripper Model Using Simscape Multibody</h1><!--introduction--><p>This document shows how to build a parametric model of an articulated robot and gripper with Custom Libraries using Simscape Multibody&#8482;. You will learn how to use custom libraries and build a typical articulated robot for pick and place operations in the <tt>ParametricRobotWithGripperPayloads</tt> SLX file. In this repository, you can find this model in <b>Component</b> &gt; <b>Parametric</b> folder. The design enables an early stage evaluation of a proposed concept and its design iterations. This example uses open-source data for ABB IRB 120 to parameterize the robot.</p><p><a href="matlab:web('RobotDesignOverview.html')">Return to overview</a></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Model the Robot</a></li><li><a href="#7">Model the End Effector</a></li><li><a href="#8">Specify the Payloads and Environment</a></li><li><a href="#9">Integrate the Systems</a></li><li><a href="#10">See Also</a></li></ul></div><h2 id="1">Model the Robot</h2><p>This section shows how to model a parametric articulated robot by using custom library blocks, such as <a href="matlab:web('Link.html','-new')">Link</a>, <a href="matlab:web('LLink.html','-new')">L-Link</a>, <a href="matlab:web('RotatingBaseWithBracket.html','-new')">Rotating Base With Bracket</a>, and <a href="matlab:web('TwoFingerGripper.html','-new')">Two Finger Gripper</a>.</p><p><h3>Model the Robot Base</h3></p><div><ul><li>At the MATLAB&reg; command line, enter smnew. The Simscape&#8482; Multibody&#8482; model template with commonly used blocks opens up.</li><li>Delete the Simulink-PS Converter, PS-Simulink Converter, Scope, and Brick Solid blocks. You do not need them in this example.</li><li>Add to the model the Rotating Base with Bracket custom block. In the repository, you can find this block in the <b>Component</b> &gt; <b>Link</b> &gt; <b>LinkLib</b> library.</li></ul></div><p><img vspace="5" hspace="5" src="LinkLib.png" alt=""> </p><div><ul><li>Load the geometry and inertia information of the robot base by running the script <tt>ParametricRobotWithGripperPayloadsParameters</tt> M file.</li><li>To use the single bracket configuration, in the dialog box of the Rotating Base with Bracket block, set <b>Bracket configuration</b> to <tt>Single bracket</tt>.</li><li>To specify the dimensions of the base, rotor, and the bracket, specify the <b>Fixed base radius</b> and <b>Base total length</b> parameters as shown in the image.</li><li>Set the <b>Inertia type</b> of Fixed Base and Rotor to <tt>Custom</tt> and specify the values of <b>Mass</b>, <b>Center of mass</b>, <b>Moments of inertia</b> and <b>Products of inertia</b> parameters as shown in the image.</li></ul></div><p><img vspace="5" hspace="5" src="RotatingBaseWithBracketMaskHelp.png" alt=""> </p><div><ul><li>Add a Revolute Joint block to the model. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Joints</b> library. This block provides one rotational degree of freedom between the fixed base and the rotor of the Rotating Base with Bracket custom block.</li><li>Specify motion constraints or joint angular position limits of the the Revolute Joint block in Limits &gt; Specify Lower Limit &gt; Bound and Limits &gt; Specify Upper Limit &gt; Bound.</li><li>To enable torque as actuation input, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Actuation</b>, set <b>Torque</b> to <tt>Provided by Input</tt>. If you want to enable rotational motion as actuation input , under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Actuation</b>, set <b>Motion</b> to <tt>Provided by Input</tt>.</li><li>To measure joint rotations, in the Revolute Joint block, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Sensing</b>, select <b>Position</b>. To measure joint rotational velocity, in the Revolute Joint block, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Sensing</b>, select <b>Velocity</b>. To measure joint torque, in the Revolute Joint block, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Sensing</b>, select <b>Actuator Torque</b>. You can add a Mux block to combine the outputs.</li><li>Add PS-Simulink Converter and Mux blocks. Create a subsystem by selecting the Revolute Joint, PS-Simulink and Mux blocks as shown in the image. Name the subsystem as Joint 1.</li></ul></div><p><img vspace="5" hspace="5" src="CreateJoint1Subsystem.png" alt=""> </p><div><ul><li>Connect the Rotating Base With Bracket custom block with Joint 1 subsystem as shown in the below figure.</li></ul></div><p><img vspace="5" hspace="5" src="ConnectBaseWithJointSubsystem.png" alt=""> </p><p><h3>Model the Robot Arm</h3></p><p><h4>Model the Links</h4></p><div><ul><li>To model robotic links named Link1, Link3, Link4 and Link5, you can use the custom block Link. Add to the model the Link custom block. In the repository, you can find this block in the <b>Component</b> &gt; <b>Link</b> &gt; <b>LinkLib</b> library.</li><li>Specify the configuration parameters of each link as shown in the table. Select the <b>Left connector configuration</b> and <b>Right connector configuration</b> parameters of a Link from one of the various available options - <tt>No connector</tt>, <tt>Single bracket</tt>, <tt>Double bracket with pin</tt>, <tt>Rotating pin</tt> and <tt>Pin socket</tt>. You can connect a <tt>Single bracket</tt> of one link to a <tt>Double bracket with pin</tt> of the adjacent link using a Revolute Joint in between and vice versa. You can connect a <tt>Rotating pin</tt> of a link to a <tt>Pin socket</tt> of the adjacent link using a Revolute Joint in between and vice versa. You can also select a <tt>No connector</tt> as one end connector. This configuration of end connector is useful in connecting a link to an end effector or a gripper.</li></ul></div><p><img vspace="5" hspace="5" src="TableConnectorConfigurations.png" alt=""> </p><div><ul><li>You can view the parameterization option <b>Left bracket orientation</b> only if you set the <b>Left connector configuration</b> to <tt>Single bracket</tt> or <tt>Double bracket with pin</tt>. Same holds true for <b>Right bracket orientation</b> and <b>Right connector configuration</b>. You can set the <b>Left bracket orientation</b> and the <b>Right bracket orientation</b> either to +X or +Z. This example uses open-source data for ABB IRB 120 to parameterize the parametric model. In this repository, you can find the model <tt>sm_abbIrb120_1_RawImport</tt> SLX file, that uses open-source CAD geometry of ABB IRB 120 robot, in <b>Component</b> &gt; <b>ABBIRB120CAD</b> folder. To match with open-source information of ABB IRB 120 robot, use the following connector configurations and bracket orientations.</li><li>Specify the <b>Link radius</b> and <b>Link length</b> parameters to define solid geometry of an individual link. The image shows the parameter settings of the Link1.</li><li>Set the <b>Inertia type</b> to <tt>Custom</tt> and specify the values of <b>Mass</b>, <b>Center of mass</b>, <b>Moments of inertia</b> and <b>Products of inertia</b>.</li></ul></div><p><img vspace="5" hspace="5" src="LinkMaskHelp.png" alt=""> </p><p><h4>Model the L-Link</h4></p><div><ul><li>To model robotic link named Link2 you can use the custom block L-Link. The L-Link block models the L-shaped links of a manipulator robot. Member 1 of a L-Link block is a link with <tt>No connector</tt> as the right connector. Member 2 is a link with <tt>No connector</tt> as the left connector. Add to the model the L-Link custom block. In the repository, you can find this block in the <b>Component</b> &gt; <b>Link</b> &gt; <b>LinkLib</b> library.</li><li>Select the <b>Left connector configuration</b> parameter as <tt>Single bracket</tt>. Select the <b>Right connector configuration</b> parameter as <tt>Pin socket</tt>. The rule of connecting end connectors of adjacent links applies to L-Link as well.</li><li>You can set the <b>Left bracket orientation</b> either to +Z.</li><li>Specify the <b>Link radius</b>, <b>Member1 total length</b> and <b>Member2 total length</b> parameters to define solid geometry of an individual L-Link.</li><li>Set the <b>Inertia type</b> to <tt>Custom</tt> and specify the values of <b>Mass</b>, <b>Center of mass</b>, <b>Moments of inertia</b> and <b>Products of inertia</b>.</li></ul></div><p><img vspace="5" hspace="5" src="LLinkMaskHelp.png" alt=""> </p><p><h4>Model the Joint Mechanisms</h4></p><div><ul><li>To create a joint subsystem Joint 2, add a Revolute Joint block to the model. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Joints</b> library. This block provides one rotational degree of freedom between the left connector of Link1 and follower (F) frame of Rotating Base with Bracket.</li><li>Specify motion constraints or joint angular position limits of the the Revolute Joint block in Limits &gt; Specify Lower Limit &gt; Bound and Limits &gt; Specify Upper Limit &gt; Bound.</li><li>To enable torque as actuation input, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Actuation</b>, set <b>Torque</b> to <tt>Provided by Input</tt>. If you want to enable rotational motion as actuation input , under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Actuation</b>, set <b>Motion</b> to <tt>Provided by Input</tt>.</li><li>To measure joint rotations, in the Revolute Joint block, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Sensing</b>, select <b>Position</b>. To measure joint rotational velocity, in the Revolute Joint block, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Sensing</b>, select <b>Velocity</b>. To measure joint torque, in the Revolute Joint block, under <b>Z Revolute Primitive (Rz)</b> &gt; <b>Sensing</b>, select <b>Actuator Torque</b>. You can add a Mux block to combine the outputs.</li><li>Add to the model two Rigid Transform blocks. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Frames and Transforms</b> library.</li><li>Add PS-Simulink Converter and Mux blocks. Connect the Rigid Transform, the Revolute Joint, PS-Simulink Converter and Mux blocks as shown in the image.</li></ul></div><p><img vspace="5" hspace="5" src="ConnectJoint2.png" alt=""> </p><div><ul><li>To rotate Joint2 axis frames to match with the respective axis frames of ABB IRB 120 robot open-source CAD model, for Joint2 Axis Transform1 and Joint2 Axis Transform2 blocks, under <b>Rotation</b>, set <b>Method</b> to <tt>Standard Axis</tt>. For Joint2 Axis Transform1, under <b>Rotation</b>, set <b>Axis</b> to <tt>+X</tt> and for Joint2 Axis Transform2, under <b>Rotation</b>, set <b>Axis</b> to <tt>-X</tt>. For both blocks, under <b>Rotation</b>, set <b>Angle</b> to <tt>180</tt>.</li><li>Create a subsystem by selecting the Revolute Joint, Rigid Tranforms and Mux blocks. Name the subsystem as Joint 2.</li><li>Similarly model the remaining joint subsystems. To match with open-source data of ABB IRB 120 robot, use the joint subsystem parameters in the parametric robot model as shown in the image.</li></ul></div><p><img vspace="5" hspace="5" src="TableJointLimits.png" alt=""> </p><div><ul><li>Connect the Rotating Base with Bracket custom block, Link and L-Link custom blocks and joint subsystems as shown in the image below.</li></ul></div><p><img vspace="5" hspace="5" src="ConnectBaseLinksJoints.png" alt=""> </p><div><ul><li>Create a subsystem by selecting the Rotating Base with Bracket, Link1, Link2, Link3, Link4, Link5 custom blocks and Joint 1, Joint 2, Joint 3, Joint 4 and Joint 5 subsystems. Name the subsystem as ParametricRobotSubsystem.</li></ul></div><h2 id="7">Model the End Effector</h2><p>This section shows how to model a parametric end effector by using custom library block Two Finger Gripper.</p><div><ul><li>Add to the model the Two Finger Gripper custom block. In the repository, you can find this block in the <b>Component</b> &gt; <b>Gripper</b> &gt; <b>GripperLib</b> library.</li></ul></div><p><img vspace="5" hspace="5" src="GripperLib.png" alt=""> </p><div><ul><li>Specify the <b>Finger length</b>, <b>Finger width</b>, <b>Finger maximum opening</b> parameters in the Two Finger Gripper block to define solid geometry of the gripper.</li><li>Specify the <b>Gripper density</b> parameter to calculate the inertia.</li><li>Move the slider to set the value of <b>Finger point cloud density</b> parameter to specify a dense or sparse point cloud on the inner gripping surface of each finger.</li></ul></div><p><img vspace="5" hspace="5" src="TwoFingerGripperMaskHelp.png" alt=""> </p><div><ul><li>Add a Simscape Bus block to the model. You can find this block in <b>Simscape</b> &gt; <b>Utilities</b> library. This block bundles the point cloud geometry information for two fingers.</li><li>Connect the Simscape Bus with the Two Finger Gripper custom block as shown below.</li></ul></div><p><img vspace="5" hspace="5" src="ConnectGripperSimscapeBus.png" alt=""> </p><div><ul><li>Create a subsystem by selecting the Two Finger Gripper custom block and Simscape Bus block. Name the subsystem as ParametricTwoFingerGripperSubsystem.</li></ul></div><h2 id="8">Specify the Payloads and Environment</h2><p>This section shows how to model the payloads and environment by using Simscape Multibody library blocks like Brick Solid, Point Cloud, Spatial Contact Force, 6-DOF Joint, Infinite Plane and Rigid Transform.</p><div><ul><li>To model a payload, add a Brick Solid block to the model. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Body Elements</b> library. Under Geometry, set the value of <b>Dimensions</b> in the block to represent a rectangular parallelopiped payload. Under <b>Inertia</b>, set the value of <b>Density</b>.</li><li>To specify the payload position, add a Rigid Transform block to the model. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Frames and Transforms</b> library. Under <b>Translation</b>, specify the Method as <tt>Cartesian</tt> and set the value of <b>Offset</b> to set the position of the payload with respect to the reference frame of the system.</li><li>To model the point cloud geometry of each payload, add a Point Cloud block to the model. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Curves and Surfaces</b> library. Specify the values of <b>Coordinates Matrix</b> in the Point Cloud block.</li><li>Connect the Brick Solid, Rigid Transform and Point Cloud blocks as shown in the image.</li></ul></div><p><img vspace="5" hspace="5" src="ConnectPayload1Elements.png" alt=""> </p><div><ul><li>Create a subsystem by selecting the Brick Solid, Rigid Transform and Point Cloud blocks. Name the subsystem as Payload1.</li><li>Select the subsystem block Payload1, right-click on the subsystem block, click <b>Create Mask</b>. Add <b>Edit</b> parameters Length, Width, Thickness, Density and Position in subsystem mask. Set the values of Length, Width, Thickness, Density and Position in the mask dialog of the payload subsystem.</li></ul></div><p><img vspace="5" hspace="5" src="PayloadMaskHelp.png" alt=""> </p><div><ul><li>Repeat the above steps to create a similar subsystem Payload 2 representing the second payload.</li><li>To model the floor, add a Brick Solid block to the model . Under Geometry, set the value of <b>Dimensions</b> in the block to represent a rectangular parallelopiped floor. Under <b>Inertia</b>, set the value of <b>Density</b>.</li><li>To specify the floor position with respect to the reference frame, add a Rigid Transform block to the model. Under <b>Translation</b>, specify the Method as <tt>Cartesian</tt> and set the value of <b>Offset</b> to set the position of the floor with respect to the reference frame of the system.</li><li>Create Floor subsystem consisting of the Brick Solid and Rigid Transform blocks.</li><li>Add an Infinite Plane block to the model to represent the surface of the floor on which the payloads rest. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Curves and Surfaces</b> library.</li><li>Add seven Spatial Contact Force blocks to the model to represent the normal and frictional forces for contact between each payload and each finger gripping surface, between each payload and the floor and between multiple payloads. You can find this block in the <b>Simscape</b> &gt; <b>Multibody</b> &gt; <b>Forces and Torques</b> library. Under <b>Normal Force</b>, select <b>Method</b> as <tt>Smooth Spring-Damper</tt> and specify values of <b>Stiffness</b> and <b>Damping</b> in each of these blocks. Under <b>Frictional Force</b>, select <b>Method</b> as <tt>Smooth Stick-Slip</tt> and specify values of <b>Coefficient of Static Friction</b> and <b>Coefficient of Dynamic Friction</b> in each of these blocks. Add two 6-DOF Joint blocks to the model to enable free movement of payloads in all directions.</li><li>Connect the payload subsystems, Floor subsystem, Infinite Plane, Spatial Contact Force, Rigid Transform and 6-DOF Joint blocks as shown.</li></ul></div><p><img vspace="5" hspace="5" src="ConnectPayloadsOnFloorSubsystem.png" alt=""> </p><div><ul><li>Create subsystem PayloadsOnFloorSubsystem by selecting the payload subsystems, Floor subsystem, Infinite Plane, Spatial Contact Force, Rigid Transform and 6-DOF Joint blocks.</li></ul></div><h2 id="9">Integrate the Systems</h2><div><ul><li>Add a Rigid Transform block to the model. Position it between ParametricRobotSubsystem and ParametricTwoFingerGripperSubsystem to orient the gripper with respect to the robot arm. Under <b>Rotation</b>, set <b>Method</b> to <tt>Rotation Sequence</tt>, set <b>Rotation About</b> to <tt>Base Axes</tt>, set <b>Sequence</b> to <tt>X-Y-Z</tt> and set value of <b>Angles</b> to <tt>[0 90 180]</tt>.</li><li>Connect the subsystems ParametricRobotSubsystem, ParametricTwoFingerGripperSubsystem and PayloadsOnFloorSubsystem to build a parametric robot with gripper and payloads as shown.</li></ul></div><p><img vspace="5" hspace="5" src="IntegratedSystemModel.png" alt=""> </p><p><img vspace="5" hspace="5" src="ParametricRobotMechanicsExplorerView.png" alt=""> </p><h2 id="10">See Also</h2><p>You can also perform a parameter sensitivity analysis to assess the impact of geometric parameters on robot performance like horizontal reach. To know more, see <a href="matlab:open('ParameterSensitivityAnalysisWorkflow.mlx')">Perform a Parameter Sensitivity Analysis for the Robot Work Envelope</a></p><p>To know more about how to determine the robot work envelope, see <a href="matlab:open('DetermineEnvelopeWorkflow.mlx')">Determine the Work Envelope for an Articulated Robot</a></p><p>To know more about how to determine the actuator rating, see <a href="matlab:open('ActuatorRatingWorkflow.mlx')">Evaluate the Actuator Rating for an Articulated Robot</a></p><p><a href="matlab:web('https://www.mathworks.com/help/sm/ref/worldframe.html','-new')">World Frame</a> &#8212; Adds an inertial reference frame to the model.</p><p><a href="matlab:web('https://www.mathworks.com/help/sm/ref/mechanismconfiguration.html','-new')">Mechanism Configuration</a> - Defines the gravitational constant in a model.</p><p><a href="matlab:web('https://www.mathworks.com/help/simscape/ref/solverconfiguration.html','-new')">Solver Configuration</a> &#8212; Sets Simscape local solver options such as types, tolerances, and time steps. This is the only required block in a model.</p><p><a href="matlab:web('https://www.mathworks.com/help/sm/ref/revolutejoint.html','-new')">Revolute Joint</a> -  Joint that has one rotational degree of freedom</p><p><a href="matlab:web('https://www.mathworks.com/help/sm/ref/rigidtransform.html','-new')">Rigid Transform</a> - Rotates and translates bodies and other frames relative to each other.</p><p class="footer">Copyright 2023 - 2024 The MathWorks, Inc.<br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2023a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Build Parametric Robot with Gripper Model Using Simscape Multibody
%
% This document shows how to build a parametric model of an articulated 
% robot and gripper with Custom Libraries using Simscape Multibody(TM). 
% You will learn how to use custom libraries and build a typical 
% articulated robot for pick and place operations in the 
% |ParametricRobotWithGripperPayloads| SLX file. In this repository, you can 
% find this model in *Component* > *Parametric* folder. The design enables an 
% early stage evaluation of a proposed concept and its design iterations. 
% This example uses open-source data for ABB IRB 120 to parameterize the robot.  
%
% <matlab:web('RobotDesignOverview.html') Return to overview>
%

% Copyright 2023 - 2024 The MathWorks, Inc.

%% Model the Robot
%
% This section shows how to model a parametric articulated robot by using 
% custom library blocks, such as <matlab:web('Link.html','-new') Link>, 
% <matlab:web('LLink.html','-new') L-Link>, 
% <matlab:web('RotatingBaseWithBracket.html','-new') Rotating Base With Bracket>, 
% and <matlab:web('TwoFingerGripper.html','-new') Two Finger Gripper>.
%%
%
% <html><h3>Model the Robot Base</h3></html>
%
% * At the MATLAB® command line, enter smnew. The Simscape™ Multibody™ 
% model template with commonly used blocks opens up.
% * Delete the Simulink-PS Converter, PS-Simulink Converter, Scope, and 
% Brick Solid blocks. You do not need them in this example.
% * Add to the model the Rotating Base with Bracket custom block. In the 
% repository, you can find this block in the *Component* > *Link* > 
% *LinkLib* library.
%
% <<LinkLib.png>>
%
% * Load the geometry and inertia information of the robot base by running 
% the script |ParametricRobotWithGripperPayloadsParameters| M file. 
% * To use the single bracket configuration, in the dialog box of the 
% Rotating Base with Bracket block, set *Bracket configuration* to 
% |Single bracket|. 
% * To specify the dimensions of the base, rotor, and the bracket, specify 
% the *Fixed base radius* and *Base total length* parameters as shown in 
% the image. 
% * Set the *Inertia type* of Fixed Base and Rotor to |Custom| and specify 
% the values of *Mass*, *Center of mass*, *Moments of inertia* and 
% *Products of inertia* parameters as shown in the image. 
%
% <<RotatingBaseWithBracketMaskHelp.png>>
%
% * Add a Revolute Joint block to the model. You can find this block in the 
% *Simscape* > *Multibody* > *Joints* library. This block provides one 
% rotational degree of freedom between the fixed base and the rotor of the 
% Rotating Base with Bracket custom block.
% * Specify motion constraints or joint angular position limits of the 
% the Revolute Joint block in Limits > Specify Lower Limit > Bound and 
% Limits > Specify Upper Limit > Bound.
% * To enable torque as actuation input, under *Z Revolute Primitive (Rz)* > 
% *Actuation*, set *Torque* to |Provided by Input|. If you want to enable rotational 
% motion as actuation input , under *Z Revolute Primitive (Rz)* > 
% *Actuation*, set *Motion* to |Provided by Input|.
% * To measure joint rotations, in the 
% Revolute Joint block, under *Z Revolute Primitive (Rz)* > *Sensing*, 
% select *Position*. To measure joint rotational velocity, in the 
% Revolute Joint block, under *Z Revolute Primitive (Rz)* > *Sensing*, 
% select *Velocity*. To measure joint torque, in the 
% Revolute Joint block, under *Z Revolute Primitive (Rz)* > *Sensing*, 
% select *Actuator Torque*. You can add a Mux block to combine the outputs.
% * Add PS-Simulink Converter and Mux blocks. Create a subsystem by 
% selecting the Revolute Joint, PS-Simulink and Mux blocks as shown in the 
% image. Name the subsystem as Joint 1.
%
% <<CreateJoint1Subsystem.png>>
%
% * Connect the Rotating Base With Bracket custom block with Joint 1 
% subsystem as shown in the below figure.
%
% <<ConnectBaseWithJointSubsystem.png>>
%
%%
%
% <html><h3>Model the Robot Arm</h3></html>
%
%%
%
% <html><h4>Model the Links</h4></html>
%
% * To model robotic links named Link1, Link3, Link4 and Link5, 
% you can use the custom block Link. Add to the model the Link custom block. 
% In the repository, you can find this block in the 
% *Component* > *Link* > *LinkLib* library.
% * Specify the configuration parameters of each link as shown in the table. 
% Select the *Left connector configuration* and *Right 
% connector configuration* parameters of a Link from one of the various available 
% options - |No connector|, |Single bracket|, |Double bracket with pin|, 
% |Rotating pin| and |Pin socket|. You can connect a |Single bracket| of 
% one link to a |Double bracket with pin| of the adjacent link using a 
% Revolute Joint in between and vice versa. You can connect a 
% |Rotating pin| of a link to a |Pin socket| of the adjacent link using a 
% Revolute Joint in between and vice versa. You can also select a 
% |No connector| as one end connector. This configuration of end connector 
% is useful in connecting a link to an end effector or a gripper.
%
% <<TableConnectorConfigurations.png>>
%
% * You can view the parameterization option *Left bracket orientation* only 
% if you set the *Left connector configuration* to |Single bracket| or 
% |Double bracket with pin|. Same holds true for *Right bracket orientation* 
% and *Right connector configuration*. You can set the *Left bracket 
% orientation* and the *Right bracket orientation* either to +X or +Z. 
% This example uses open-source data for ABB IRB 120 to parameterize the 
% parametric model. In this repository, you can find the model 
% |sm_abbIrb120_1_RawImport| SLX file, that uses open-source CAD geometry 
% of ABB IRB 120 robot, in *Component* > *ABBIRB120CAD* folder. 
% To match with open-source information of ABB IRB 120 robot, use 
% the following connector configurations and bracket orientations.
% * Specify the *Link radius* and *Link length* parameters to define solid geometry of 
% an individual link. The image shows the parameter settings of the Link1.
% * Set the *Inertia type* to |Custom| and specify the 
% values of *Mass*, *Center of mass*, *Moments of inertia* and 
% *Products of inertia*. 
%
% <<LinkMaskHelp.png>>
%
%%
%
% <html><h4>Model the L-Link</h4></html>
%
% * To model robotic link named Link2 you can use the custom block L-Link. 
% The L-Link block models the L-shaped links of a manipulator robot. 
% Member 1 of a L-Link block is a link with |No connector| as the right connector. 
% Member 2 is a link with |No connector| as the left connector. Add to the 
% model the L-Link custom block. In the repository, you can 
% find this block in the *Component* > *Link* > *LinkLib* library.
% * Select the *Left connector configuration* parameter
% as |Single bracket|. Select the *Right connector configuration* parameter as |Pin socket|. 
% The rule of connecting end connectors of adjacent links applies to L-Link 
% as well.
% * You can set the *Left bracket orientation* either to +Z.
% * Specify the *Link radius*, *Member1 total length* and *Member2 total 
% length* parameters to define solid geometry of an individual L-Link. 
% * Set the *Inertia type* to |Custom| and specify the values of *Mass*, 
% *Center of mass*, *Moments of inertia* and *Products of inertia*.
%
% <<LLinkMaskHelp.png>>
%
%%
%
% <html><h4>Model the Joint Mechanisms</h4></html>
%
% * To create a joint subsystem Joint 2, add a Revolute Joint block to the 
% model. You can find this block in the 
% *Simscape* > *Multibody* > *Joints* library. This block provides one 
% rotational degree of freedom between the left connector of Link1 and 
% follower (F) frame of Rotating Base with Bracket.
% * Specify motion constraints or joint angular position limits of the 
% the Revolute Joint block in Limits > Specify Lower Limit > Bound and 
% Limits > Specify Upper Limit > Bound.
% * To enable torque as actuation input, under *Z Revolute Primitive (Rz)* > 
% *Actuation*, set *Torque* to |Provided by Input|. If you want to enable 
% rotational motion as actuation input , under *Z Revolute Primitive (Rz)* > 
% *Actuation*, set *Motion* to |Provided by Input|.
% * To measure joint rotations, in the 
% Revolute Joint block, under *Z Revolute Primitive (Rz)* > *Sensing*, 
% select *Position*. To measure joint rotational velocity, in the 
% Revolute Joint block, under *Z Revolute Primitive (Rz)* > *Sensing*, 
% select *Velocity*. To measure joint torque, in the 
% Revolute Joint block, under *Z Revolute Primitive (Rz)* > *Sensing*, 
% select *Actuator Torque*. You can add a Mux block to combine the outputs.
% * Add to the model two Rigid Transform blocks. You can find this block in 
% the *Simscape* > *Multibody* > *Frames and Transforms* library.
% * Add PS-Simulink Converter and Mux blocks. Connect the Rigid Transform, 
% the Revolute Joint, PS-Simulink Converter and Mux blocks as shown in the image.
%
% <<ConnectJoint2.png>>
%
% * To rotate Joint2 axis frames to match with the respective axis 
% frames of ABB IRB 120 robot open-source CAD model, for Joint2 Axis Transform1 and 
% Joint2 Axis Transform2 blocks, under *Rotation*, set *Method* to 
% |Standard Axis|. For Joint2 Axis Transform1, under *Rotation*, set *Axis* 
% to |+X| and for Joint2 Axis Transform2, under *Rotation*, set *Axis* 
% to |-X|. For both blocks, under *Rotation*, set *Angle* to |180|.
% * Create a subsystem by selecting the Revolute Joint, Rigid Tranforms and 
% Mux blocks. Name the subsystem as Joint 2.
% * Similarly model the remaining joint subsystems. To match with open-source 
% data of ABB IRB 120 robot, use the joint subsystem parameters in the parametric robot 
% model as shown in the image.
%
% <<TableJointLimits.png>>
%
% * Connect the Rotating Base with Bracket custom block, Link and L-Link 
% custom blocks and joint subsystems as shown in the image below.
%
% <<ConnectBaseLinksJoints.png>>
%
% * Create a subsystem by selecting the Rotating Base with Bracket, Link1, 
% Link2, Link3, Link4, Link5 custom blocks and Joint 1, Joint 2, Joint 3, 
% Joint 4 and Joint 5 subsystems. Name the subsystem as
% ParametricRobotSubsystem.

%% Model the End Effector
%
% This section shows how to model a parametric end effector by using 
% custom library block Two Finger Gripper.
%
% * Add to the model the Two Finger Gripper custom block. In the 
% repository, you can find this block in the *Component* > *Gripper* > 
% *GripperLib* library.
%
% <<GripperLib.png>>
%
% * Specify the *Finger length*, *Finger width*, *Finger maximum opening*
% parameters in the Two Finger Gripper block to define solid geometry of the gripper. 
% * Specify the *Gripper density* parameter to calculate 
% the inertia. 
% * Move the slider to set the value of *Finger point cloud density* parameter to 
% specify a dense or sparse point cloud on the inner gripping surface of 
% each finger.
%
% <<TwoFingerGripperMaskHelp.png>>
%
% * Add a Simscape Bus block to the model. You can find this block in 
% *Simscape* > *Utilities* library. This block bundles the point cloud 
% geometry information for two fingers.
% * Connect the Simscape Bus with the Two Finger Gripper custom block as
% shown below.
%
% <<ConnectGripperSimscapeBus.png>>
%
% * Create a subsystem by selecting the Two Finger Gripper custom block and
% Simscape Bus block. Name the subsystem as
% ParametricTwoFingerGripperSubsystem.

%% Specify the Payloads and Environment
%
% This section shows how to model the payloads and environment by using 
% Simscape Multibody library blocks like Brick Solid, Point Cloud, Spatial Contact 
% Force, 6-DOF Joint, Infinite Plane and Rigid Transform.
%
% * To model a payload, add a Brick Solid block to the model. You can 
% find this block in the *Simscape* > *Multibody* > *Body Elements* library. 
% Under Geometry, set the value of *Dimensions* in the block to represent 
% a rectangular parallelopiped payload. Under *Inertia*, set the value of 
% *Density*.
% * To specify the payload position, add a Rigid Transform block to the model. 
% You can find this block in the *Simscape* > *Multibody* > *Frames and Transforms* library. 
% Under *Translation*, specify the Method as |Cartesian| and set the value 
% of *Offset* to set the position of the payload with respect to the 
% reference frame of the system. 
% * To model the point cloud geometry of each payload, add a Point Cloud 
% block to the model. You can find this block in 
% the *Simscape* > *Multibody* > *Curves and Surfaces* library. Specify the 
% values of *Coordinates Matrix* in the Point Cloud block. 
% * Connect the Brick Solid, Rigid Transform and Point Cloud blocks as shown 
% in the image.
%
% <<ConnectPayload1Elements.png>>
%
% * Create a subsystem by selecting the Brick Solid, Rigid Transform and 
% Point Cloud blocks. Name the subsystem as Payload1.
% * Select the subsystem block Payload1, right-click on the subsystem block, 
% click *Create Mask*. Add *Edit* parameters Length, Width, Thickness, 
% Density and Position in subsystem mask. Set the values of Length, Width, 
% Thickness, Density and Position in the mask dialog of the payload subsystem.
%
% <<PayloadMaskHelp.png>> 
%
% * Repeat the above steps to create a similar subsystem Payload 2
% representing the second payload.
% * To model the floor, add a Brick Solid block to the model . Under Geometry, 
% set the value of *Dimensions* in the block to represent 
% a rectangular parallelopiped floor. Under *Inertia*, set the value of 
% *Density*.
% * To specify the floor position with respect to the reference frame, add 
% a Rigid Transform block to the model. Under *Translation*, specify the 
% Method as |Cartesian| and set the value of *Offset* to set the position 
% of the floor with respect to the reference frame of the system.
% * Create Floor subsystem consisting of the Brick Solid and Rigid
% Transform blocks.
% * Add an Infinite Plane block to the model to represent the surface of 
% the floor on which the payloads rest. You can find this block in the 
% *Simscape* > *Multibody* > *Curves and Surfaces* library. 
% * Add seven Spatial Contact Force blocks to the model to represent the normal 
% and frictional forces for contact between each payload and each finger 
% gripping surface, between each payload and the floor and between multiple 
% payloads. You can find this block in the *Simscape* > *Multibody* > 
% *Forces and Torques* library. Under *Normal Force*, select *Method* as 
% |Smooth Spring-Damper| and specify values of *Stiffness* and *Damping* in 
% each of these blocks. Under *Frictional Force*, select *Method* as 
% |Smooth Stick-Slip| and specify values of *Coefficient of Static Friction* 
% and *Coefficient of Dynamic Friction* in each of these blocks.
% Add two 6-DOF Joint blocks to the model to enable free movement of 
% payloads in all directions.
% * Connect the payload subsystems, Floor subsystem, Infinite Plane, Spatial 
% Contact Force, Rigid Transform and 6-DOF Joint blocks as shown.
%
% <<ConnectPayloadsOnFloorSubsystem.png>>
%
% * Create subsystem PayloadsOnFloorSubsystem by selecting the payload 
% subsystems, Floor subsystem, Infinite Plane, Spatial Contact Force, Rigid 
% Transform and 6-DOF Joint blocks.

%% Integrate the Systems
%
% * Add a Rigid Transform block to the model. Position it between 
% ParametricRobotSubsystem and ParametricTwoFingerGripperSubsystem to 
% orient the gripper with respect to the robot arm. Under *Rotation*, set 
% *Method* to |Rotation Sequence|, set *Rotation About* to |Base Axes|, set *Sequence* 
% to |X-Y-Z| and set value of *Angles* to |[0 90 180]|.
% * Connect the subsystems ParametricRobotSubsystem, 
% ParametricTwoFingerGripperSubsystem and
% PayloadsOnFloorSubsystem to build a parametric robot with gripper and 
% payloads as shown. 
%
% <<IntegratedSystemModel.png>>
%
%
% <<ParametricRobotMechanicsExplorerView.png>>
%

%% See Also
%
% You can also perform a parameter sensitivity analysis to assess
% the impact of geometric parameters on robot performance like horizontal
% reach. To know more, see 
% <matlab:open('ParameterSensitivityAnalysisWorkflow.mlx') Perform a Parameter Sensitivity Analysis for the Robot Work Envelope>
%
% To know more about how to determine the robot work envelope, see 
% <matlab:open('DetermineEnvelopeWorkflow.mlx') Determine the Work Envelope for an Articulated Robot>
%
% To know more about how to determine the actuator rating, see 
% <matlab:open('ActuatorRatingWorkflow.mlx') Evaluate the Actuator Rating for an Articulated Robot>
%
% <matlab:web('https://www.mathworks.com/help/sm/ref/worldframe.html','-new') World Frame> — Adds 
% an inertial reference frame to the model.
%
% <matlab:web('https://www.mathworks.com/help/sm/ref/mechanismconfiguration.html','-new') Mechanism Configuration> 
% - Defines the gravitational constant in a model.
%
% <matlab:web('https://www.mathworks.com/help/simscape/ref/solverconfiguration.html','-new') Solver Configuration> 
% — Sets Simscape local solver options such as types, tolerances, and time 
% steps. This is the only required block in a model.
%
% <matlab:web('https://www.mathworks.com/help/sm/ref/revolutejoint.html','-new') Revolute Joint>
% -  Joint that has one rotational degree of freedom
% 
% <matlab:web('https://www.mathworks.com/help/sm/ref/rigidtransform.html','-new') Rigid Transform> 
% - Rotates and translates bodies and other frames relative to each other.
%

##### SOURCE END #####
--></body></html>